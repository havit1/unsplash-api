{"version":3,"sources":["Components/HOC/withInfScroll.jsx","utils/request.js","utils/unsplash.js","Components/Grid/GridItem.jsx","Components/Context/theme-context.js","Components/Grid/Grid.jsx","Components/Home/Home.jsx","Components/SerachForm/SearchForm.jsx","Components/Common/ThemeButton.js","Components/Navbar/Navbar.jsx","Components/Search/Search.jsx","App.jsx","serviceWorker.js","index.js"],"names":["withInfScroll","WrappedComponent","getData","props","populate","console","log","document","documentElement","getBoundingClientRect","bottom","clientHeight","setState","fething","nextImages","state","hasMore","newState","Object","assign","currentPage","match","params","queryString","bind","images","prevProps","prevState","this","setImages","window","addEventListener","removeEventListener","React","Component","axios","interceptors","response","use","error","status","toast","Promise","reject","Request","url","headers","get","unsplash","page","Authorization","process","qString","toLowerCase","GridItem","prevSpans","spans","imageRef","createRef","setSpans","current","image","className","style","gridRowEnd","src","urls","regular","alt","ref","ImageHeight","Math","floor","PureComponent","themes","dark","toggleTheme","ThemeContext","createContext","Grid","Consumer","darkTheme","map","key","id","that","a","photos","data","length","concat","info","homeWithScroll","SearchForm","onChange","e","searchValue","currentTarget","value","isFocus","submitForm","preventDefault","history","push","onSubmit","type","placeholder","SearchFormWithRouter","withRouter","ThemeButton","getClass","context","htmlFor","checked","contextType","Navbar","onSearch","exact","to","searchWithScroll","results","App","Provider","path","component","Home","Search","Boolean","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.01258369.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport function withInfScroll(WrappedComponent, getData) {\r\n  return class extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.getData = getData;\r\n      this.populate = this.populate.bind(this);\r\n      this.state = {\r\n        images: [],\r\n        currentPage: 1,\r\n        hasMore: true\r\n      };\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n      if (\r\n        prevProps.match.params.queryString !==\r\n        this.props.match.params.queryString\r\n      ) {\r\n        this.setImages([]);\r\n        console.log(\"Fetching images\");\r\n        this.getData(\r\n          this.state.currentPage,\r\n          this,\r\n          this.props.match.params.queryString\r\n        );\r\n      }\r\n    }\r\n\r\n    setImages(images) {\r\n      this.setState({ images });\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.getData(\r\n        this.state.currentPage,\r\n        this,\r\n        this.props.match.params.queryString\r\n      );\r\n      window.addEventListener(\"scroll\", this.populate);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      window.removeEventListener(\"scroll\", this.populate);\r\n    }\r\n\r\n    populate = () => {\r\n      console.log(\"Scrolling\");\r\n      let windowRelativeBottom = document.documentElement.getBoundingClientRect()\r\n        .bottom;\r\n      if (windowRelativeBottom < document.documentElement.clientHeight + 1) {\r\n        this.setState({ fething: true });\r\n        this.nextImages();\r\n      }\r\n    };\r\n\r\n    nextImages = () => {\r\n      if (!this.state.hasMore) return;\r\n      console.log(\"New images incoming\");\r\n\r\n      this.setState(\r\n        state => {\r\n          const newState = Object.assign(state);\r\n          newState.currentPage++;\r\n          return newState;\r\n        },\r\n        () => {\r\n          this.getData(\r\n            this.state.currentPage,\r\n            this,\r\n            this.props.match.params.queryString\r\n          );\r\n        }\r\n      );\r\n    };\r\n\r\n    render() {\r\n      return <WrappedComponent {...this.props} images={this.state.images} />;\r\n    }\r\n  };\r\n}\r\n","import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\naxios.interceptors.response.use(null, error => {\r\n  const expectedError =\r\n    error.response &&\r\n    error.response.status >= 400 &&\r\n    error.response.status < 500;\r\n\r\n  if (!expectedError) {\r\n    console.log(\"Logging the error\", error);\r\n    toast.error(\"Something went wrong\");\r\n  }\r\n  return Promise.reject(error);\r\n});\r\n\r\nclass Request {\r\n  get(url, headers = {}) {\r\n    return axios.get(url, { headers });\r\n  }\r\n}\r\nexport default Request;\r\n","import Request from \"./request\";\r\n\r\nexport const unsplash = {\r\n  getMainPagePhotos: page => {\r\n    const request = new Request();\r\n    return request.get(`https://api.unsplash.com/photos?page=${page}`, {\r\n      Authorization: `Client-ID ${process.env.REACT_APP_UNSPLASH_API_KEY}`\r\n    });\r\n  },\r\n  getPhotosByQuery: (qString, page) => {\r\n    const request = new Request();\r\n\r\n    return request.get(\r\n      `https://api.unsplash.com/search/photos?page=${page}&query=${qString.toLowerCase()}`,\r\n      {\r\n        Authorization: `Client-ID ${process.env.REACT_APP_UNSPLASH_API_KEY}`\r\n      }\r\n    );\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport \"./GridItem.scss\";\r\n\r\nclass GridItem extends React.PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      prevSpans: 0,\r\n      spans: 0\r\n    };\r\n\r\n    this.imageRef = React.createRef();\r\n    this.setSpans = this.setSpans.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.imageRef.current.addEventListener(\"load\", this.setSpans);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.imageRef.current.removeEventListener(\"load\", this.setSpans);\r\n  }\r\n\r\n  render() {\r\n    const { image } = this.props;\r\n    const { spans } = this.state;\r\n    return (\r\n      <div\r\n        className=\"grid-item\"\r\n        style={{\r\n          gridRowEnd: `span ${spans}`\r\n        }}\r\n      >\r\n        <img src={image.urls.regular} alt=\"\" ref={this.imageRef} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  setSpans() {\r\n    const ImageHeight = this.imageRef.current.clientHeight;\r\n    const rawHeight = 50;\r\n    const spans = Math.floor(ImageHeight / rawHeight);\r\n    console.log(spans);\r\n\r\n    this.setState({ spans });\r\n  }\r\n}\r\n\r\nexport default GridItem;\r\n","import React from \"react\";\r\n\r\nexport const themes = {\r\n  dark: false,\r\n  toggleTheme: () => {}\r\n};\r\n\r\nexport const ThemeContext = React.createContext(themes);\r\n","import GridItem from \"./GridItem\";\r\nimport React from \"react\";\r\nimport { ThemeContext } from \"../Context/theme-context\";\r\nimport \"./Grid.scss\";\r\n\r\nconst Grid = ({ images = [] }) => {\r\n  return (\r\n    <ThemeContext.Consumer>\r\n      {({ darkTheme }) => (\r\n        <div className={darkTheme ? \"grid dark\" : \"grid\"}>\r\n          {images.map(image => (\r\n            <GridItem key={image.id} image={image} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </ThemeContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default Grid;\r\n","import React, { Component } from \"react\";\r\nimport { withInfScroll } from \"../HOC/withInfScroll\";\r\nimport { unsplash } from \"../../utils/unsplash\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Grid from \"../Grid/Grid\";\r\n\r\nclass Home extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Grid images={this.props.images} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nasync function fetchImages(currentPage, that) {\r\n  try {\r\n    const photos = await unsplash.getMainPagePhotos(currentPage);\r\n    if (!photos.data.length) return that.setState({ hasMore: false });\r\n    const images = that.state.images.concat(photos.data);\r\n    that.setImages(images);\r\n  } catch (error) {\r\n    toast.info(\"No more photos on main page:)\");\r\n  }\r\n}\r\n\r\nconst homeWithScroll = withInfScroll(Home, fetchImages);\r\n\r\nexport default homeWithScroll;\r\n","import React, { Component } from \"react\";\r\nimport \"./SearchForm.scss\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass SearchForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isFocus: false,\r\n      searchValue: \"\"\r\n    };\r\n\r\n    this.submitForm = this.submitForm.bind(this);\r\n  }\r\n\r\n  submitForm(e) {\r\n    e.preventDefault();\r\n    if (!this.state.searchValue) {\r\n      return;\r\n    }\r\n    this.props.history.push(`/search/${this.state.searchValue}`);\r\n  }\r\n\r\n  onChange = e => {\r\n    const searchValue = e.currentTarget.value;\r\n    this.setState({ searchValue });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={\"search-form\"} onSubmit={this.submitForm}>\r\n        <button className=\"search-form__button\">S</button>\r\n        <input\r\n          onChange={this.onChange}\r\n          value={this.state.searchValue}\r\n          type=\"text\"\r\n          placeholder=\"Search...\"\r\n          className=\"search-form__input\"\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst SearchFormWithRouter = withRouter(SearchForm);\r\nexport { SearchFormWithRouter as SearchForm };\r\n","import React from \"react\";\r\nimport { ThemeContext } from \"../Context/theme-context\";\r\nimport \"./ThemeButton.scss\";\r\n\r\nclass ThemeButton extends React.Component {\r\n  static contextType = ThemeContext;\r\n\r\n  getClass = () => {\r\n    return this.context.darkTheme\r\n      ? \"theme-toggle-button dark\"\r\n      : \"theme-toggle-button\";\r\n  };\r\n\r\n  render() {\r\n    let props = this.props;\r\n    let darkTheme = this.context.darkTheme;\r\n    let toggleTheme = this.context.toggleTheme;\r\n\r\n    return (\r\n      <div className=\"theme-switch-wrapper\">\r\n        <label className=\"theme-switch\" htmlFor=\"checkbox\">\r\n          <input\r\n            {...props}\r\n            className={`${this.getClass()}`}\r\n            type=\"checkbox\"\r\n            id=\"checkbox\"\r\n            checked={darkTheme}\r\n            onChange={toggleTheme}\r\n          ></input>\r\n          <div className=\"slider round\"></div>\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ThemeButton;\r\n","import React, { Component } from \"react\";\r\nimport { SearchForm } from \"../SerachForm\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport ThemeButton from \"../Common/ThemeButton\";\r\nimport { ThemeContext } from \"../Context/theme-context\";\r\nimport \"./Navbar.scss\";\r\n\r\nexport class Navbar extends Component {\r\n  state = {};\r\n\r\n  static contextType = ThemeContext;\r\n\r\n  getClass = () => {\r\n    return this.context.darkTheme ? \"nav dark\" : \"nav\";\r\n  };\r\n\r\n  render() {\r\n    const { onSearch } = this.props;\r\n\r\n    return (\r\n      <nav className={`${this.getClass()}`}>\r\n        <div className=\"nav__content\">\r\n          <div className=\"nav__search-form\">\r\n            <SearchForm onSearch={onSearch} />\r\n          </div>\r\n          <ul className=\"nav__links\">\r\n            <li className=\"nav__links-link\">\r\n              <NavLink exact to=\"/\">\r\n                Home\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav__links-link\">\r\n              <NavLink to=\"/about\">About</NavLink>\r\n            </li>\r\n          </ul>\r\n          <ThemeButton />\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { unsplash } from \"../../utils/unsplash\";\r\nimport { withInfScroll } from \"../HOC/withInfScroll\";\r\n\r\nimport Grid from \"../Grid/Grid\";\r\n\r\nclass Search extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Grid images={this.props.images} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst fetchImages = async (currentPage, that, queryString) => {\r\n  try {\r\n    const photos = await unsplash.getPhotosByQuery(queryString, currentPage);\r\n    if (!photos.data.results.length) return that.setState({ hasMore: false });\r\n    const images = that.state.images.concat(photos.data.results);\r\n\r\n    that.setImages(images);\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst searchWithScroll = withInfScroll(Search, fetchImages);\r\n\r\nexport default searchWithScroll;\r\n","import React, { Component } from \"react\";\nimport Home from \"./Components/Home/Home\";\nimport { Navbar } from \"./Components/Navbar\";\nimport Search from \"./Components/Search/Search\";\nimport { ThemeContext, themes } from \"./Components/Context/theme-context\";\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect\n} from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"./App.scss\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.toggleTheme = () => {\n      this.setState(state => ({\n        darkTheme: state.darkTheme ? false : true\n      }));\n    };\n\n    this.state = {\n      darkTheme: themes.dark,\n      toggleTheme: this.toggleTheme\n    };\n  }\n\n  render() {\n    return (\n      <ThemeContext.Provider value={this.state}>\n        <div className={this.state.darkTheme ? \"app dark\" : \"app\"}>\n          <ToastContainer />\n          <Router>\n            <Navbar />\n            <Switch>\n              <Route exact={true} path=\"/\" component={Home} />\n              <Route path=\"/search/:queryString\" component={Search} />\n              <Route path=\"/about\" component={() => <h2>About page</h2>} />\n              <Route path=\"/404\" component={() => <h1>Not found</h1>} />\n              <Redirect to=\"/404\" />\n            </Switch>\n          </Router>\n        </div>\n      </ThemeContext.Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}